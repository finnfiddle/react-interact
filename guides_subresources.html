<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Interact</title>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/styles/default.min.css">
    <link rel="stylesheet" href="/css/main.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <body>
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header"><a href="/" class="navbar-brand">Interact</a></div>
        <ul class="nav navbar-nav navbar-right">
          <li><a href="/">Home</a></li>
          <li><a href="/guides.html">Guides</a></li>
          <li><a href="/docs.html">Docs</a></li>
          <li><a href="">Github</a></li>
        </ul>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-md-3"><br/><br/>
          <ul>
            <li><a href="/guides.html">Getting Started</a></li>
            <li><a href="/guides_containers.html">Containers</a></li>
            <li><a href="/guides_mutations.html">Mutations</a></li>
            <li><a href="/guides_subresources.html">Subresources</a></li>
            <li><a href="/guides_custom_interfaces.html">Custom Agents/Interfaces</a></li>
          </ul>
        </div>
        <div class="col-md-9">
          <div class="page-header">
            <h1>Subresources</h1>
          </div>
          <p>When defining our containers we can create subresources within resources. Subresources are defined in exactly the same way as resources and are placed in the <code>subs</code> key of the resource.</p>
          <h3>Basic Example</h3>
          <pre><code class="javascript">import React, { Component } from 'react'
import { createContainer } from 'react-interact'

class TodoList extends Component {

  render() {
    return (
      &lt;ul&gt;
        {this.props.todos.map(todo =&gt; (
          &lt;li key={todo.id}&gt;
            {todo.title}
            &lt;ul&gt;
              {todo.subTodos.map(subTodo =&gt; (
                &lt;li 
                  key={subTodo.id}
                  onClick={this.handleRemoveSubTodo.bind(this, todo.id, subTodo.id)}
                &gt;{subTodo.title}&lt;/li&gt;
              ))}
            &lt;/ul&gt;
            &lt;a 
              onClick={this.handleAddSubTodo.bind(this, todo.id)}
            &gt;
              Add SubTodo
            &lt;/a&gt;
          &lt;/li&gt;
        )}
      &lt;/ul&gt;
    )
  },

  handleAddSubTodo(id) {
    this.props.interact.todos({id}).subTodos.create({})
  },

  handleRemoveSubTodo(id, subId) {
    this.props.interact.todos({id}).subTodos({id: subId}).remove()
  },
}

export default createContainer(TodoList, {
  todos: {
    base: '/api/v1/todos',
    item: '/${id}',
    subs: {
      subTodos: {
        base: '/sub_todos',
        item: '/${id}',
      },
    },
  },
})
</code></pre>
          <h3>TODO: more info</h3><br/><br/><a href="/guides_custom_interfaces.html" class="btn btn-md btn-primary">Next: Custom Interfaces</a><br/><br/><br/><br/><br/><br/>
        </div>
      </div>
    </div>
  </body>
</html>