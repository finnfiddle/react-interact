<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Interact</title>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/styles/default.min.css">
    <link rel="stylesheet" href="/css/main.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-md-3"><br/><br/>
          <ul>
            <li><a>Installation</a></li>
            <li><a>Conatiners</a></li>
          </ul>
        </div>
        <div class="col-md-9">
          <div class="page-header">
            <h1>Mutations</h1>
          </div>
          <p>Reading data from the server is an important part of an application but when we want to add interactivity we need to be able to also mutate it.</p>
          <p>Interact gives us the power to perform CRUD operations on our resources defined by our containers by passing a prop <code>interact</code>&nbsp;to the wrapped component.</p>
          <p>The <code>interact</code>&nbsp;prop takes 3 arguments. First is the name/key of the resource that we defined in our container, second is the operation to be performed (read, update, create, remove, list), and the third is an object of parameters for the request like item <code>id</code>, <code>payload</code>, etc...</p>
          <p>Read the docs for the full list of available options <a href="">here</a>.</p>
          <h3>Create</h3>
          <pre><code class="javascript">import React, { Component } from 'react'
import { createContainer } from 'react-interact'

class TodoList extends Component {

  render() {
    return (
      &lt;div&gt;
        {this.props.todos.map(todo =&gt; `${todo.title}, `)}
        &lt;a onClick={this.handleAddTodo.bind(this)}&gt;Add Todo&lt;/a&gt;
      &lt;/div&gt;
    )
  },

  handleAddTodo() {
    this.props.interact('todos', 'create', {
      payload: {
        title: 'New Todo',
      },
    })
  },
}

export default createContainer(TodoList, () =&gt; ({
  todos: '/api/v1/todos',
}))
</code></pre><br/><br/>
          <h3>Update</h3>
          <pre><code class="javascript">import React, { Component } from 'react'
import { createContainer } from 'react-interact'

class TodoList extends Component {

  render() {
    return (
      &lt;ul&gt;
        {this.props.todos.map(todo =&gt; {
          const onClick = handleUpdateTodo.bind(this, {
            id: todo.id,
            payload: {
              done: !todo.done,
            },
          })
          
          return (
            &lt;li&gt;
              &lt;a onClick={onClick}&gt;{todo.title}&lt;/a&gt;
            &lt;/li&gt;
          )
        })}
      &lt;/ul&gt;
    )
  },

  handleUpdateTodo(params) {
    this.props.interact('todos', 'update', params)
  },
}

export default createContainer(TodoList, () =&gt; ({
  todos: '/api/v1/todos',
}))
</code></pre><br/><br/>
          <h3>Delete</h3>
          <pre><code class="javascript">import React, { Component } from 'react'
import { createContainer } from 'react-interact'

class TodoList extends Component {

  render() {
    return (
      &lt;ul&gt;
        {this.props.todos.map(todo =&gt; {
          const onClick = handleRemoveTodo.bind(this, todo.id)
          
          return (
            &lt;li&gt;
              &lt;a onClick={onClick}&gt;{todo.title}&lt;/a&gt;
            &lt;/li&gt;
          )
        })}
      &lt;/ul&gt;
    )
  },

  handleRemoveTodo(id) {
    this.props.interact('todos', 'remove', {id})
  },
}

export default createContainer(TodoList, () =&gt; ({
  todos: '/api/v1/todos',
}))
</code></pre><br/><br/><a href="/guides_subresources.html" class="btn btn-md btn-primary">Next: Subresources</a><br/><br/><br/><br/><br/><br/>
        </div>
      </div>
    </div>
  </body>
</html>